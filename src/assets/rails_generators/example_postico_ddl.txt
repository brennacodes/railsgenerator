-- DDL generated by Postico 1.5.21
-- Not all database features are supported. Do not use for backup.

-- Table Definition ----------------------------------------------

CREATE TABLE tasks (
    id BIGSERIAL PRIMARY KEY,
    name character varying,
    customer_id bigint REFERENCES customers(id),
    uuid uuid NOT NULL DEFAULT uuid_generate_v4(),
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    task_type integer,
    steps jsonb NOT NULL DEFAULT '{}'::jsonb,
    status integer DEFAULT 0,
    manager_id bigint REFERENCES managers(id),
    concurrency_limits jsonb NOT NULL DEFAULT '{}'::jsonb,
    documentation text NOT NULL DEFAULT ''::text,
    complete boolean NOT NULL DEFAULT false
);

-- Indices -------------------------------------------------------

CREATE UNIQUE INDEX tasks_pkey ON tasks(id int8_ops);
CREATE INDEX index_tasks_on_customer_id ON tasks(customer_id int8_ops);
CREATE INDEX index_tasks_on_status ON tasks(status int4_ops);
CREATE INDEX index_tasks_on_manager_id ON tasks(manager_id int8_ops);
CREATE UNIQUE INDEX index_tasks_on_uuid ON tasks(uuid uuid_ops);
CREATE INDEX index_tasks_on_steps_default ON tasks USING GIN ((steps -> 'default'::text) jsonb_ops);
CREATE INDEX index_tasks_on_complete ON tasks(complete bool_ops);